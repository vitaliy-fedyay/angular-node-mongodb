<form class="example-form">
  <mat-form-field class="example-full-width">
    <mat-label>Search</mat-label>
    <input matInput [(ngModel)]="query" name="search">
  </mat-form-field>
</form>

<div class="posts" *ngIf="posts$ | async as posts; else loading">
  <app-post *ngFor="let post of posts | search : query | paginate: { itemsPerPage: 3, currentPage: page }"
    [post]="post">
  </app-post>
</div>

<ng-template #loading>
  <p class="loading">Loading posts...</p>
</ng-template>

<div class="paginator">
  <pagination-controls (pageChange)="page = $event"></pagination-controls>
</div>